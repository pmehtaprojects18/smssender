{"version":3,"sources":["../../../src/@ionic-native/plugins/contacts/index.ts"],"names":[],"mappings":"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","file":"index.js","sourceRoot":"","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { CordovaInstance, InstanceProperty, Plugin, getPromise, InstanceCheck, checkAvailability, CordovaCheck, IonicNativePlugin } from '@ionic-native/core';\r\n\r\ndeclare const window: any,\r\n  navigator: any;\r\n\r\nexport type ContactFieldType = '*' | 'addresses' | 'birthday' | 'categories' | 'country' | 'department' | 'displayName' | 'emails' | 'familyName' | 'formatted' | 'givenName' | 'honorificPrefix' | 'honorificSuffix' | 'id' | 'ims' | 'locality' | 'middleName' | 'name' | 'nickname' | 'note' | 'organizations' | 'phoneNumbers' | 'photos' | 'postalCode' | 'region' | 'streetAddress' | 'title' | 'urls';\r\n\r\nexport interface IContactProperties {\r\n\r\n  /** A globally unique identifier. */\r\n  id?: string;\r\n\r\n  /** The name of this Contact, suitable for display to end users. */\r\n  displayName?: string;\r\n\r\n  /** An object containing all components of a persons name. */\r\n  name?: IContactName;\r\n\r\n  /** A casual name by which to address the contact. */\r\n  nickname?: string;\r\n\r\n  /** An array of all the contact's phone numbers. */\r\n  phoneNumbers?: IContactField[];\r\n\r\n  /** An array of all the contact's email addresses. */\r\n  emails?: IContactField[];\r\n\r\n  /** An array of all the contact's addresses. */\r\n  addresses?: IContactAddress[];\r\n\r\n  /** An array of all the contact's IM addresses. */\r\n  ims?: IContactField[];\r\n\r\n  /** An array of all the contact's organizations. */\r\n  organizations?: IContactOrganization[];\r\n\r\n  /** The birthday of the contact. */\r\n  birthday?: Date;\r\n\r\n  /** A note about the contact. */\r\n  note?: string;\r\n\r\n  /** An array of the contact's photos. */\r\n  photos?: IContactField[];\r\n\r\n  /** An array of all the user-defined categories associated with the contact. */\r\n  categories?: IContactField[];\r\n\r\n  /** An array of web pages associated with the contact. */\r\n  urls?: IContactField[];\r\n\r\n}\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport class Contact implements IContactProperties {\r\n  private _objectInstance: any;\r\n  @InstanceProperty id: string;\r\n  @InstanceProperty displayName: string;\r\n  @InstanceProperty name: IContactName;\r\n  @InstanceProperty nickname: string;\r\n  @InstanceProperty phoneNumbers: IContactField[];\r\n  @InstanceProperty emails: IContactField[];\r\n  @InstanceProperty addresses: IContactAddress[];\r\n  @InstanceProperty ims: IContactField[];\r\n  @InstanceProperty organizations: IContactOrganization[];\r\n  @InstanceProperty birthday: Date;\r\n  @InstanceProperty note: string;\r\n  @InstanceProperty photos: IContactField[];\r\n  @InstanceProperty categories: IContactField[];\r\n  @InstanceProperty urls: IContactField[];\r\n\r\n  [key: string]: any;\r\n\r\n  constructor() {\r\n    if (checkAvailability('navigator.contacts', 'create', 'Contacts') === true) {\r\n      this._objectInstance = navigator.contacts.create();\r\n    }\r\n  }\r\n\r\n  @InstanceCheck()\r\n  clone(): Contact {\r\n    let newContact: any = new Contact();\r\n    for (let prop in this) {\r\n      if (prop === 'id') return;\r\n      newContact[prop] = this[prop];\r\n    }\r\n    return newContact;\r\n  }\r\n\r\n  @CordovaInstance()\r\n  remove(): Promise<any> { return; }\r\n\r\n  @InstanceCheck()\r\n  save(): Promise<any> {\r\n    return getPromise((resolve: Function, reject: Function) => {\r\n      this._objectInstance.save((contact: any) => {\r\n        this._objectInstance = contact;\r\n        resolve(this);\r\n      }, reject);\r\n    });\r\n  }\r\n}\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport interface IContactError {\r\n  /** Error code */\r\n  code: number;\r\n  /** Error message */\r\n  message: string;\r\n}\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport declare const ContactError: {\r\n  new (code: number): IContactError;\r\n  UNKNOWN_ERROR: number;\r\n  INVALID_ARGUMENT_ERROR: number;\r\n  TIMEOUT_ERROR: number;\r\n  PENDING_OPERATION_ERROR: number;\r\n  IO_ERROR: number;\r\n  NOT_SUPPORTED_ERROR: number;\r\n  PERMISSION_DENIED_ERROR: number\r\n};\r\n\r\nexport interface IContactName {\r\n  /** The complete name of the contact. */\r\n  formatted?: string;\r\n  /** The contact's family name. */\r\n  familyName?: string;\r\n  /** The contact's given name. */\r\n  givenName?: string;\r\n  /** The contact's middle name. */\r\n  middleName?: string;\r\n  /** The contact's prefix (example Mr. or Dr.) */\r\n  honorificPrefix?: string;\r\n  /** The contact's suffix (example Esq.). */\r\n  honorificSuffix?: string;\r\n}\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport class ContactName implements IContactName {\r\n  constructor(public formatted?: string,\r\n    public familyName?: string,\r\n    public givenName?: string,\r\n    public middleName?: string,\r\n    public honorificPrefix?: string,\r\n    public honorificSuffix?: string) { }\r\n}\r\n\r\nexport interface IContactField {\r\n  /** A string that indicates what type of field this is, home for example. */\r\n  type?: string;\r\n  /** The value of the field, such as a phone number or email address. */\r\n  value?: string;\r\n  /** Set to true if this ContactField contains the user's preferred value. */\r\n  pref?: boolean;\r\n}\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport class ContactField implements IContactField {\r\n  constructor(public type?: string,\r\n    public value?: string,\r\n    public pref?: boolean) { }\r\n}\r\n\r\nexport interface IContactAddress {\r\n  /** Set to true if this ContactAddress contains the user's preferred value. */\r\n  pref?: boolean;\r\n  /** A string indicating what type of field this is, home for example. */\r\n  type?: string;\r\n  /** The full address formatted for display. */\r\n  formatted?: string;\r\n  /** The full street address. */\r\n  streetAddress?: string;\r\n  /** The city or locality. */\r\n  locality?: string;\r\n  /** The state or region. */\r\n  region?: string;\r\n  /** The zip code or postal code. */\r\n  postalCode?: string;\r\n  /** The country name. */\r\n  country?: string;\r\n}\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport class ContactAddress implements IContactAddress {\r\n  constructor(public pref?: boolean,\r\n    public type?: string,\r\n    public formatted?: string,\r\n    public streetAddress?: string,\r\n    public locality?: string,\r\n    public region?: string,\r\n    public postalCode?: string,\r\n    public country?: string) { }\r\n}\r\n\r\nexport interface IContactOrganization {\r\n  /** Set to true if this ContactOrganization contains the user's preferred value. */\r\n  pref?: boolean;\r\n  /** A string that indicates what type of field this is, home for example. */\r\n  type?: string;\r\n  /** The name of the organization. */\r\n  name?: string;\r\n  /** The department the contract works for. */\r\n  department?: string;\r\n  /** The contact's title at the organization. */\r\n  title?: string;\r\n}\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport class ContactOrganization implements IContactOrganization {\r\n  constructor(\r\n    public type?: string,\r\n    public name?: string,\r\n    public department?: string,\r\n    public title?: string,\r\n    public pref?: boolean\r\n  ) { }\r\n}\r\n\r\n/** Search options to filter navigator.contacts.  */\r\nexport interface IContactFindOptions {\r\n  /** The search string used to find navigator.contacts. */\r\n  filter?: string;\r\n  /** Determines if the find operation returns multiple navigator.contacts. Defaults to false. */\r\n  multiple?: boolean;\r\n  /** Contact fields to be returned back. If specified, the resulting Contact object only features values for these fields. */\r\n  desiredFields?: string[];\r\n  /**\r\n   * (Android only): Filters the search to only return contacts with a phone number informed.\r\n   */\r\n  hasPhoneNumber?: boolean;\r\n}\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport class ContactFindOptions implements IContactFindOptions {\r\n  constructor(public filter?: string,\r\n    public multiple?: boolean,\r\n    public desiredFields?: string[],\r\n    public hasPhoneNumber?: boolean) { }\r\n}\r\n\r\n/**\r\n * @name Contacts\r\n * @description\r\n * Access and manage Contacts on the device.\r\n *\r\n * @usage\r\n *\r\n * ```typescript\r\n * import { Contacts, Contact, ContactField, ContactName } from '@ionic-native/contacts';\r\n *\r\n * constructor(private contacts: Contacts) { }\r\n *\r\n * let contact: Contact = this.contacts.create();\r\n *\r\n * contact.name = new ContactName(null, 'Smith', 'John');\r\n * contact.phoneNumbers = [new ContactField('mobile', '6471234567')];\r\n * contact.save().then(\r\n *   () => console.log('Contact saved!', contact),\r\n *   (error: any) => console.error('Error saving contact.', error)\r\n * );\r\n *\r\n * ```\r\n * @classes\r\n * Contact\r\n * @interfaces\r\n * IContactProperties\r\n * IContactError\r\n * IContactName\r\n * IContactField\r\n * IContactAddress\r\n * IContactOrganization\r\n * IContactFindOptions\r\n */\r\n@Plugin({\r\n  pluginName: 'Contacts',\r\n  plugin: 'cordova-plugin-contacts',\r\n  pluginRef: 'navigator.contacts',\r\n  repo: 'https://github.com/apache/cordova-plugin-contacts',\r\n  platforms: ['Android', 'BlackBerry 10', 'Firefox OS', 'iOS', 'Ubuntu', 'Windows', 'Windows Phone 8']\r\n})\r\n\r\nexport class Contacts extends IonicNativePlugin {\r\n\r\n  /**\r\n   * Create a single contact.\r\n   * @returns {Contact} Returns a Contact object\r\n   */\r\n  create(): Contact {\r\n    return new Contact();\r\n  }\r\n\r\n  /**\r\n   * Search for contacts in the Contacts list.\r\n   * @param fields {ContactFieldType[]}  Contact fields to be used as a search qualifier\r\n   * @param options {IContactFindOptions} Optional options for the query\r\n   * @returns {Promise<Contact[]>} Returns a Promise that resolves with the search results (an array of Contact objects)\r\n   */\r\n  @CordovaCheck()\r\n  find(fields: ContactFieldType[], options?: IContactFindOptions): Promise<Contact[]> {\r\n    return getPromise((resolve: Function, reject: Function) => {\r\n      navigator.contacts.find(fields, (contacts: any[]) => {\r\n        resolve(contacts.map(processContact));\r\n      }, reject, options);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Select a single Contact.\r\n   * @returns {Promise<Contact>} Returns a Promise that resolves with the selected Contact\r\n   */\r\n  @CordovaCheck()\r\n  pickContact(): Promise<Contact> {\r\n    return getPromise((resolve: Function, reject: Function) => {\r\n      navigator.contacts.pickContact((contact: any) => resolve(processContact(contact)), reject);\r\n    });\r\n  }\r\n\r\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\r\n\r\n/**\r\n * @hidden\r\n */\r\nfunction processContact(contact: any) {\r\n  let newContact = new Contact();\r\n  for (let prop in contact) {\r\n    if (typeof contact[prop] === 'function') continue;\r\n    newContact[prop] = contact[prop];\r\n  }\r\n  return newContact;\r\n}\r\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}